<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Thinkfinity - User Profile">
    <meta name="keywords" content="learning, education, thinfinity, profile">
    <meta name="author" content="Thinkfinity">
    
    <title>Thinkfinity - My Profile</title>
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/auth.css">
    <link rel="stylesheet" href="assets/css/profile.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="js/vendor/modernizr-3.11.2.min.js"></script>
    <script src="assets/js/plugins.js" defer></script>
    <script src="assets/js/main.js" defer></script>
    <script src="assets/js/nav_dropdown.js"></script>
    <script src="backend/auth.js" defer></script>
    <script src="assets/js/profile.js" defer></script>
</head>
<body>
    <section class="navbar">
      <div class="navbar-logo">
        <img src="assets/pictures/logos/logo_text_225x74.png" alt="Thinfinity Logo">
      </div>
      <div class="navbar-links">
        <li class="navbar-link"><a href="index.html">Explore</a></li>
        <li class="navbar-link"><a href="#">Forum</a></li>
        <li class="navbar-link"><a href="#">Classes</a></li>
      </div>
      
      <!-- User profile section - shows when logged in -->
      <div class="navbar-user" id="userProfileSection">
        <div class="navbar-dropdown">
          <div class="profile-info">
            <h2 class="navbar-dropdown-name" id="userDisplayName">Loading...</h2>
            <img class="navbar-dropdown-profile" id="userProfilePic" src="assets/pictures/default-profile.png" alt="User Profile">
          </div>
          <div class="dropdown-content">
            <a href="profile.html">My Profile</a>
            <a href="settings.html">Settings</a>
            <a href="#" id="logoutBtn">Logout</a>
          </div>
        </div>
      </div>
      
      <!-- Login/Register buttons - shows when logged out -->
      <div class="auth-buttons" id="authButtonsSection" style="display: none;">
        <button class="login-btn" id="loginBtn">Login</button>
        <button class="register-btn" id="registerBtn">Register</button>
      </div>
    </section>

    <main class="profile-container">
        <div class="profile-header">
            <div class="profile-cover-image">
                <button class="edit-cover-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <path d="M16.7574 2.99666L14.7574 4.99666H5C3.89543 4.99666 3 5.89209 3 6.99666V19.9967C3 21.1012 3.89543 21.9967 5 21.9967H18C19.1046 21.9967 20 21.1012 20 19.9967V10.2393L21 9.23926V19.9967C21 21.6535 19.6569 22.9967 18 22.9967H5C3.34315 22.9967 2 21.6535 2 19.9967V6.99666C2 5.33981 3.34315 3.99666 5 3.99666H14.7574L13.5 5.25406L2.5 16.2541L3.91421 17.6683L14.9142 6.66827L16.7574 8.51148V2.99666ZM16.7574 2.99666L21.7071 7.94628L11.7071 17.9463L6.75736 12.9966L16.7574 2.99666ZM7.5 11.4463L11 14.9463L10.5 15.4463H7.5V11.4463Z" />
                    </svg>
                </button>
            </div>
            <div class="profile-user-info">
                <div class="profile-picture-container">
                    <img id="userProfilePic" src="assets/pictures/default-profile.png" alt="Profile Picture">
                    <button class="edit-profile-picture-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                            <path d="M16.7574 2.99666L14.7574 4.99666H5C3.89543 4.99666 3 5.89209 3 6.99666V19.9967C3 21.1012 3.89543 21.9967 5 21.9967H18C19.1046 21.9967 20 21.1012 20 19.9967V10.2393L21 9.23926V19.9967C21 21.6535 19.6569 22.9967 18 22.9967H5C3.34315 22.9967 2 21.6535 2 19.9967V6.99666C2 5.33981 3.34315 3.99666 5 3.99666H14.7574L13.5 5.25406L2.5 16.2541L3.91421 17.6683L14.9142 6.66827L16.7574 8.51148V2.99666ZM16.7574 2.99666L21.7071 7.94628L11.7071 17.9463L6.75736 12.9966L16.7574 2.99666ZM7.5 11.4463L11 14.9463L10.5 15.4463H7.5V11.4463Z" />
                        </svg>
                    </button>
                </div>
                <div class="profile-details">
                    <h1 id="userDisplayName">Loading...</h1>
                    <p class="profile-tagline" id="profileTagline">Loading...</p>
                    <div class="profile-stats">
                        <div class="stat">
                            <span class="stat-value">12</span>
                            <span class="stat-label">Courses</span>
                        </div>
                    </div>
                </div>
                <button class="edit-profile-btn">Edit Profile</button>
            </div>
        </div>

        <div class="profile-tabs">
            <button class="tab-btn active" data-tab="activity">Activity</button>
            <button class="tab-btn" data-tab="courses">My Courses</button>
        </div>

        <div class="profile-content">
            <!-- Activity Tab (visible by default) -->
            <div class="tab-content active" id="activity-tab">
                <h2>Recent Activity</h2>
                <div class="activity-feed">
                    <div class="activity-item">
                        <div class="activity-icon course-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                <path d="M12 1L21.5 6.5V17.5L12 23L2.5 17.5V6.5L12 1ZM12 3.311L4.5 7.65311V16.3469L12 20.689L19.5 16.3469V7.65311L12 3.311ZM12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z" />
                            </svg>
                        </div>
                        <div class="activity-details">
                            <p><strong>Course Completion</strong> - Completed the course <a href="#">Introduction to Calculus</a></p>
                            <span class="activity-time">2 days ago</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon forum-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                <path d="M2 8.99998H22V12.9999H18V18.9999H13V12.9999H6L2 18.9999V8.99998ZM4 10.9999V14.1715L5.17145 12.9999H15V16.9999H16V12.9999H20V10.9999H4ZM2 4.99996H22V6.99995H2V4.99996Z" />
                            </svg>
                        </div>
                        <div class="activity-details">
                            <p><strong>Forum Post</strong> - Posted in <a href="#">Physics Discussion</a>: "Understanding Quantum Mechanics"</p>
                            <span class="activity-time">3 days ago</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Courses Tab -->
            <div class="tab-content" id="courses-tab">
                <h2>My Courses</h2>
                <div class="courses-grid">
                    <div class="course-card">
                        <div class="course-image">
                            <img src="assets/pictures/courses/calculus.jpg" alt="Calculus Course">
                            <div class="course-progress">
                                <div class="progress-bar" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="course-info">
                            <h3>Introduction to Calculus</h3>
                            <p class="course-instructor">Dr. Maria Johnson</p>
                            <span class="course-status completed">Completed</span>
                        </div>
                    </div>
                    <div class="course-card">
                        <div class="course-image">
                            <img src="assets/pictures/courses/physics.jpg" alt="Physics Course">
                            <div class="course-progress">
                                <div class="progress-bar" style="width: 65%;"></div>
                            </div>
                        </div>
                        <div class="course-info">
                            <h3>Fundamentals of Physics</h3>
                            <p class="course-instructor">Prof. Alan Smith</p>
                            <span class="course-status in-progress">In Progress - 65%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Profile</h2>
            <form id="editProfileForm">
                <div class="form-group">
                    <label for="editUsername">Username</label>
                    <input type="text" id="editUsername" placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label for="editTagline">Tagline</label>
                    <input type="text" id="editTagline" placeholder="A short description about yourself">
                </div>
                <div class="form-group">
                    <label for="editBio">Bio</label>
                    <textarea id="editBio" rows="4" placeholder="Tell us about yourself"></textarea>
                </div>
                <button type="submit" class="submit-btn">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Upload Image Modal -->
    <div id="uploadImageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Upload Image</h2>
            <div class="profile-upload">
                <div class="profile-preview">
                    <img id="imagePreview" src="assets/pictures/default-profile.png" alt="Image Preview">
                </div>
                <label for="imageUpload" class="upload-btn">Choose Image</label>
                <input type="file" id="imageUpload" accept="image/*" style="display: none;">
            </div>
            <div class="btn-group">
                <button class="back-btn" id="cancelUploadBtn">Cancel</button>
                <button class="submit-btn" id="confirmUploadBtn">Upload</button>
            </div>
        </div>
    </div>
</body>
</html>